/* empty css                        *//* empty css                   */import{_ as x}from"./MusicPlayer.a97db23d.js";import{a as w}from"./index.15c82977.js";import{$ as l}from"./jquery.67aab4a5.js";import{D as u,v as S,o as c,e as h,f as t,A as g,B as f,C,x as z,K as a,t as _,u as F,T as N,y as M,g as y,F as b,I as p,p as T,j as J,z as v}from"./vendor.d34d5b7e.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";var B="./assets/join_bookshelf.885e220e.svg",L="./assets/search_file.e0ef40a0.svg",I="./assets/home2.fd63a52c.svg",H="./assets/top.cf6656e1.svg",V="./assets/down.3934bfb3.svg",A="./assets/set.37b360e1.svg";const D={components:{MusicPlayer:x},name:"bookcontent",data(){return{bookboxshow:!1,book_id:this.$route.params.book_id,content_id:this.$route.params.content_id,name:"\u4E66\u540D",book_img_url:"",author:"\u4F5C\u8005",catalogue_name:"\u7AE0\u8282\u540D\u79F0",content:"\u5185\u5BB9",bookshelf:null,catalogue_list:null,search_span_show:!1,join_span_show:!1,home_span_show:!1,set_span_show:!1,fontsizes:[16,18,20,22,24],bjcolors:["#00000089","#FFFFFF67","rgba(57,146,57,0.34)","linear-gradient(to right top, #a88fb8, #a591c2, #a094cc, #9897d7, #8d9be1, #7ea5ec, #6baff4, #55b9fa, #43cafc, #44d9fa, #5be7f4, #7af4ec)","linear-gradient(to right bottom, #322e30, #3b363e, #3e414e, #3b4d5d, #335a66, #37666f, #3d7376, #467f7b, #538f8b, #619f9b, #6eafab, #7cc0bc)","radial-gradient(circle, #b7d131, #00c16f, #00a3ad, #007cc6, #134da4)","linear-gradient(to bottom, #bf7392, #b26a9e, #9a65ac, #7564ba, #2966c4)","linear-gradient(to bottom, #1d1319, #261a25, #2e2333, #332c41, #363651, #443e5d, #544669, #654d74, #895274, #a65a6a, #b8685c, #bd7e4e)"],skins:[["#000","rgba(255,255,255,0.7)"],["#c2c2c2","#2a2929"],["#000","rgba(187,227,187,0.83)"],["#000000","rgba(243,234,164,0.88)"],["#000000","rgba(229,188,188,0.79)"],["#c2c2c2","#4c4c4c"]],setting:{currentFontsize:20,currentbjcolor:"#FFF",currentskin:["#000","#000"],currentlineheight:2},player_setting:{default_player_type:!0,server:"netease",type:"playlist",id:"2676066674"},player_div_show:!1,contentloading:!0,search_string:null}},mounted(){this.monitorscorll(),this.monitorkeydowm(),this.initseting(),this.initcontent(),this.initcatalogue(),this.initbookshelf(),this.to_top()},methods:{test(){},to_bottom(){l("html,body").animate({scrollTop:l(document).height()},200)},to_top(){l("html,body").animate({scrollTop:0},200)},joinbookshelf(){this.bookshelf[this.book_id]?u({message:"\u4E66\u7C4D\u5DF2\u7ECF\u52A0\u5165\u4E66\u67B6\u4E86\uFF01",type:"info",duration:1200}):(this.bookshelf[this.book_id]={book_id:this.book_id,name:this.name,img_url:this.book_img_url,author:this.author,catalogue_id:this.content_id,catalogue_name:this.catalogue_name},localStorage.bookshelf=JSON.stringify(this.bookshelf),u({message:"\u52A0\u5165\u4E66\u67B6\u6210\u529F\uFF01",type:"success",duration:1200}))},set_span_hide(){this.set_hide_timeout=setTimeout(()=>{this.set_span_show=!1},700)},set_span_show_fun(){this.set_hide_timeout&&clearTimeout(this.set_hide_timeout),this.set_span_show=!0},setfontsize(n){n>1?this.setting.currentFontsize=n:this.setting.currentFontsize+=n,localStorage.setting=JSON.stringify(this.setting)},setlineheight(n){this.setting.currentlineheight+=n,localStorage.setting=JSON.stringify(this.setting)},setbjcolor(n){this.setting.currentbjcolor=n,l("#app").css({background:this.setting.currentbjcolor}),localStorage.setting=JSON.stringify(this.setting)},setskin(n){this.setting.currentskin=n,localStorage.setting=JSON.stringify(this.setting)},monitorscorll(){var n=!0,e=!0;l(window).scroll(function(){var m=l(window).scrollTop(),k=l(document).height(),o=300;m<k*.83?n&&(n=!1,l(".go-bottom").fadeTo(o,1)):n||(n=!0,l(".go-bottom").fadeTo(o,0)),m>=k*.1?e&&(e=!1,l(".go-top").fadeTo(o,1)):e||(e=!0,l(".go-top").fadeTo(o,0))})},monitorkeydowm(){document.onkeydown=n=>{let e=window.event.keyCode;e==39&&!search_span_show?this.nextcontent(Number(this.content_id)+1):e==37&&!search_span_show&&this.nextcontent(Number(this.content_id)-1)}},initcontent(){this.contentloading=!0,w.get("/api/content/"+this.book_id+"/"+this.content_id).then(n=>{this.bookboxshow=!0,this.contentloading=!1,this.content=n.data.content,this.catalogue_name=n.data.catalogue_name,document.title=this.catalogue_name,setTimeout(function(){closeMsg()},100),this.bookshelf[this.book_id]&&(this.bookshelf[this.book_id].catalogue_id=Number(this.content_id),this.bookshelf[this.book_id].catalogue_name=this.catalogue_name,localStorage.bookshelf=JSON.stringify(this.bookshelf),u({message:"\u66F4\u65B0\u4E66\u67B6\u6210\u529F\u3002",type:"success",duration:800}))}).catch(n=>{u({message:"\u8BF7\u6C42\u5931\u8D25\uFF01\u8BF7\u5237\u65B0\uFF01",type:"error",duration:0}),console.log(n)})},initcatalogue(){w.get("/api/bookinfo/"+this.book_id).then(n=>{this.name=n.data.book_name,this.author=n.data.book_author,this.book_img_url=n.data.book_img_url,this.catalogue_list=n.data.catalogue_text_list,setTimeout(()=>{this.tocontentid("#catalogue_"+this.content_id)},300)}).catch(n=>{u({message:"\u8BF7\u6C42\u5931\u8D25\uFF01\u8BF7\u5237\u65B0\uFF01",type:"error",duration:0}),console.log(n)})},initseting(){if(this.setting.currentbjcolor=this.bjcolors[4],this.setting.currentskin=this.skins[0],!localStorage.setting)localStorage.setting=JSON.stringify(this.setting);else{var n=JSON.parse(localStorage.setting);for(var e in n)this.setting[e]=n[e]}l("#app").css({background:this.setting.currentbjcolor})},initbookshelf(){localStorage.bookshelf||(localStorage.bookshelf="{}"),this.bookshelf=JSON.parse(localStorage.bookshelf)},nextcontent(n){this.$router.push("/book/"+this.book_id+"/"+n),l("#catalogue_"+this.content_id).css({background:"#00000000",color:"#2c3e50"}),this.content_id=Number(n),this.initcontent(),this.tocontentid("#catalogue_"+this.content_id),l("html,body").animate({scrollTop:0},100)},downcurmusic(n){window.open(n)},tocontentid(n){l(".catalogue-container").animate({scrollTop:l(n).offset().top-l(window).height()/2+l(".catalogue-container").scrollTop()},70),l(n).css({background:"#000000a8",color:"#FFF"})},searchbook(){let n=this.search_string?"/book?s="+this.search_string:"/book";this.$router.push(n)}}},r=n=>(T("data-v-64c5a3b0"),n=n(),J(),n),K={id:"app"},E=r(()=>t("div",{class:"header"},[t("div",{class:"home"},[t("a",{href:"/book"},"Book")])],-1)),P={class:"tool tool-left-bottom"},U={href:"javascript:void(0);"},Z=r(()=>t("img",{src:B},null,-1)),q={href:"javascript:void(0);"},G={href:"/book"},Q=r(()=>t("img",{src:I},null,-1)),R={class:"bookbox"},W={class:"navigate"},X=["href"],Y=r(()=>t("br",null,null,-1)),$=["innerHTML"],tt={id:"control-catalogue"},et=["href"],ot={class:"tool tool-right-bottom"},st=r(()=>t("a",{href:"javascript:void(0);"},[t("img",{src:H})],-1)),nt=[st],it=r(()=>t("a",{href:"javascript:void(0);"},[t("img",{src:V})],-1)),lt=[it],rt={class:"tool tool-right-top"},at=r(()=>t("a",{title:"\u8BBE\u7F6E",href:"javascript:void(0);"},[t("img",{src:A})],-1)),ct=r(()=>t("span",null,"\u80CC\u666F\u989C\u8272:",-1)),ht=["onClick"],_t=r(()=>t("span",null,"\u5B57\u4F53\u5927\u5C0F:",-1)),dt=["onClick"],ut=r(()=>t("span",{style:{"font-size":"20px"}},"|",-1)),gt={id:"skin-select"},ft=r(()=>t("span",null,"\u76AE\u80A4\u6A21\u5F0F:",-1)),bt=["onClick"],pt=r(()=>t("span",null,"\u5B57\u884C\u95F4\u8DDD:",-1)),mt=r(()=>t("span",{style:{"font-size":"25px"}},"-",-1)),kt=[mt],vt={class:"fontsize-show",style:{margin:"0 5px"}},wt=r(()=>t("span",{style:{"font-size":"25px"}},"+",-1)),yt=[wt],jt={class:"tonextcontent"},xt=["href"],St=r(()=>t("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("rect",{width:"48",height:"48",fill:"white","fill-opacity":"0.01"}),t("path",{d:"M41.9999 24H5.99992",stroke:"#ffffff","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M30 12L42 24L30 36",stroke:"#ffffff","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),Ct=[St],zt={class:"catalogue-module"},Ft={class:"catalogue-all"},Nt={class:"catalogue-container"},Mt=r(()=>t("div",null,"\u76EE\u5F55",-1)),Tt={class:"catalogue-list"},Jt=["onClick","id"],Ot={class:"catalogue_location"},Bt=r(()=>t("svg",{t:"1648216386348",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"101090"},[t("path",{d:"M514.9184 931.7888a176.0256 176.0256 0 0 1-88.2688-23.6032c-159.3344-92.4672-279.5008-288.8704-279.5008-456.96 0-189.4912 150.3744-349.44 342.3232-364.1856 99.84-7.68 200.704 26.5728 276.6848 93.9008 74.3936 65.9456 117.6576 155.392 121.9072 251.904 7.936 182.016-106.2912 373.0432-284.3136 475.2896a178.5856 178.5856 0 0 1-88.832 23.6544z m2.3552-784.384c-7.68 0-15.36 0.3072-23.04 0.8704-160.1536 12.288-285.5936 145.3568-285.5936 302.9504 0 145.4592 109.312 322.816 248.8832 403.8144 35.3792 20.5312 79.6672 20.48 115.6096-0.1536 158.6176-91.136 260.5056-259.6352 253.5424-419.3792-3.4816-79.7184-39.424-153.8048-101.2736-208.5888-57.7024-51.2-132.5056-79.5136-208.128-79.5136z",fill:"#333333","p-id":"101091"}),t("path",{d:"M517.7856 456.192m-132.096 0a132.096 132.096 0 1 0 264.192 0 132.096 132.096 0 1 0-264.192 0Z",fill:"#F55C04","p-id":"101092"})],-1)),Lt=[Bt],It=r(()=>t("div",{class:"catalogue-list-show"},"\u5F00",-1));function Ht(n,e,m,k,o,i){const j=S;return c(),h("div",K,[E,t("div",P,[t("div",{id:"joinbookshelf",onClick:e[0]||(e[0]=(...s)=>i.joinbookshelf&&i.joinbookshelf(...s)),title:"\u52A0\u5165\u4E66\u67B6",onMouseover:e[1]||(e[1]=s=>o.join_span_show=!0),onMouseout:e[2]||(e[2]=s=>o.join_span_show=!1)},[t("a",U,[Z,g(t("span",null,"\u52A0\u5165\u4E66\u67B6",512),[[f,o.join_span_show]])])],32),t("div",{id:"search",title:"\u641C\u7D22",onMouseover:e[6]||(e[6]=s=>o.search_span_show=!0),onMouseout:e[7]||(e[7]=s=>o.search_span_show=!1)},[t("a",q,[t("img",{src:L,onClick:e[3]||(e[3]=s=>i.searchbook())}),g(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.search_string=s),placeholder:"\u641C\u7D22",onKeyup:e[5]||(e[5]=z(s=>i.searchbook(),["enter"]))},null,544),[[f,o.search_span_show],[C,o.search_string]])])],32),t("div",{id:"home",title:"\u4E3B\u9875",onMouseover:e[8]||(e[8]=s=>o.home_span_show=!0),onMouseout:e[9]||(e[9]=s=>o.home_span_show=!1)},[t("a",G,[Q,g(t("span",null,"\u4E3B\u9875",512),[[f,o.home_span_show]])])],32)]),g((c(),h("div",{id:"box",style:a({background:o.setting.currentskin[1]}),"element-loading-background":"rgba(250, 250, 250, 0.25)"},[g(t("div",R,[t("div",W,[t("a",{href:"/book",style:a({color:o.setting.currentskin[0]})},"\u4E3B\u9875",4),t("span",{style:a({color:o.setting.currentskin[0]})},">",4),t("a",{href:"/book/"+o.book_id,style:a({color:o.setting.currentskin[0]})},_(o.name),13,X),t("span",{style:a({color:o.setting.currentskin[0]})},">",4),t("a",{href:"javascript:void(0);",style:a({color:o.setting.currentskin[0]})},_(o.catalogue_name),5)]),t("div",{id:"catalogue_name",style:a({color:o.setting.currentskin[0]})},_(o.catalogue_name),5),Y,t("div",{id:"content",innerHTML:o.content,style:a({fontSize:o.setting.currentFontsize+"px",color:o.setting.currentskin[0],lineHeight:o.setting.currentlineheight})},null,12,$),t("div",tt,[t("a",{class:"nextcontent",onClick:e[10]||(e[10]=s=>i.nextcontent(Number(o.content_id)-1))},"\u4E0A\u4E00\u7AE0"),t("a",{class:"catalogue",href:"/book/"+o.book_id},"\u76EE\u5F55",8,et),t("a",{class:"nextcontent",onClick:e[11]||(e[11]=s=>i.nextcontent(Number(o.content_id)+1))},"\u4E0B\u4E00\u7AE0")])],512),[[f,o.bookboxshow]])],4)),[[j,o.contentloading]]),t("div",ot,[t("div",{class:"go-top",onClick:e[12]||(e[12]=(...s)=>i.to_top&&i.to_top(...s))},nt),t("div",{class:"go-bottom",onClick:e[13]||(e[13]=(...s)=>i.to_bottom&&i.to_bottom(...s))},lt)]),t("div",rt,[t("div",{onMouseenter:e[20]||(e[20]=(...s)=>i.set_span_show_fun&&i.set_span_show_fun(...s)),onMouseleave:e[21]||(e[21]=(...s)=>i.set_span_hide&&i.set_span_hide(...s))},[at,F(N,{name:"bounce"},{default:M(()=>[o.set_span_show?(c(),h("div",{key:0,class:"child-setting",onMouseenter:e[18]||(e[18]=(...s)=>i.set_span_show_fun&&i.set_span_show_fun(...s)),onMouseleave:e[19]||(e[19]=s=>o.set_span_show=!1)},[t("div",null,[ct,(c(!0),h(b,null,p(o.bjcolors,s=>(c(),h("span",{key:s,class:v(["bj-color",{"bj-color-selected":o.setting.currentbjcolor===s}]),style:a({background:s}),onClick:d=>i.setbjcolor(s)},null,14,ht))),128))]),t("div",null,[_t,(c(!0),h(b,null,p(o.fontsizes,s=>(c(),h("span",{key:s,class:v(["fontsize-select",{"fontsize-selected":o.setting.currentFontsize===s}]),style:a({fontSize:s+"px"}),onClick:d=>i.setfontsize(s)},_(s),15,dt))),128)),ut,t("span",{class:"fontsize-select-jj",onClick:e[14]||(e[14]=s=>i.setfontsize(-1)),onselectstart:"() => {return false}"},"Aa-"),t("span",{class:"fontsize-show",style:a([{margin:"0 5px"},{fontSize:o.setting.currentFontsize+"px"}])},_(o.setting.currentFontsize),5),t("span",{class:"fontsize-select-jj",onClick:e[15]||(e[15]=s=>i.setfontsize(1)),onselectstart:"() => {return false}"},"Aa+")]),t("div",gt,[ft,(c(!0),h(b,null,p(o.skins,s=>(c(),h("div",{class:v(["skin-select",[{"skin-selected":o.setting.currentskin===s}]]),key:s[1],style:a({borderLeftColor:s[0],borderBottomColor:s[1]}),onClick:d=>i.setskin(s)},null,14,bt))),128))]),t("div",null,[pt,t("span",{class:"fontsize-select-jj",onClick:e[16]||(e[16]=s=>i.setlineheight(-.2)),onselectstart:"() => {return false}"},kt),t("span",vt,_(o.setting.currentlineheight),1),t("span",{class:"fontsize-select-jj",onClick:e[17]||(e[17]=s=>i.setlineheight(.2)),onselectstart:"() => {return false}"},yt)])],32)):y("",!0)]),_:1})],32)]),t("div",jt,[t("div",null,[t("a",{href:"/book/"+o.book_id+"/"+(Number(o.content_id)+1)},Ct,8,xt)])]),y("",!0),t("div",zt,[t("div",Ft,[t("div",Nt,[Mt,t("div",Tt,[(c(!0),h(b,null,p(o.catalogue_list,(s,d)=>(c(),h("div",{key:d+1,onClick:Vt=>i.nextcontent(d+1),id:"catalogue_"+(d+1)},_(s),9,Jt))),128))])]),t("div",Ot,[t("a",{onClick:e[23]||(e[23]=s=>i.tocontentid("#catalogue_"+o.content_id))},Lt)])]),It])])}var qt=O(D,[["render",Ht],["__scopeId","data-v-64c5a3b0"]]);export{qt as default};
