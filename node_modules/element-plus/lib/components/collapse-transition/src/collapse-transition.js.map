{"version":3,"file":"collapse-transition.js","sources":["../../../../../../packages/components/collapse-transition/src/collapse-transition.vue"],"sourcesContent":["<template>\n  <transition :name=\"ns.b()\" v-on=\"on\">\n    <slot />\n  </transition>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nexport default defineComponent({\n  name: 'ElCollapseTransition',\n  setup() {\n    const ns = useNamespace('collapse-transition')\n\n    return {\n      ns,\n      on: {\n        beforeEnter(el) {\n          if (!el.dataset) el.dataset = {}\n\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n\n          el.style.maxHeight = 0\n          el.style.paddingTop = 0\n          el.style.paddingBottom = 0\n        },\n\n        enter(el) {\n          el.dataset.oldOverflow = el.style.overflow\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = `${el.scrollHeight}px`\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          } else {\n            el.style.maxHeight = 0\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          }\n\n          el.style.overflow = 'hidden'\n        },\n\n        afterEnter(el) {\n          el.style.maxHeight = ''\n          el.style.overflow = el.dataset.oldOverflow\n        },\n\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {}\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n          el.dataset.oldOverflow = el.style.overflow\n\n          el.style.maxHeight = `${el.scrollHeight}px`\n          el.style.overflow = 'hidden'\n        },\n\n        leave(el) {\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = 0\n            el.style.paddingTop = 0\n            el.style.paddingBottom = 0\n          }\n        },\n\n        afterLeave(el) {\n          el.style.maxHeight = ''\n          el.style.overflow = el.dataset.oldOverflow\n          el.style.paddingTop = el.dataset.oldPaddingTop\n          el.style.paddingBottom = el.dataset.oldPaddingBottom\n        },\n      },\n    }\n  },\n})\n</script>\n"],"names":["defineComponent","useNamespace","_openBlock","_createBlock","_Transition","_mergeProps","_toHandlers","_withCtx","_renderSlot"],"mappings":"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"}