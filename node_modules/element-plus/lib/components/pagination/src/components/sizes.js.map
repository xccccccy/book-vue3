{"version":3,"file":"sizes.js","sources":["../../../../../../../packages/components/pagination/src/components/sizes.vue"],"sourcesContent":["<template>\n  <span :class=\"ns.e('sizes')\">\n    <el-select\n      :model-value=\"innerPageSize\"\n      :disabled=\"disabled\"\n      :popper-class=\"popperClass\"\n      :size=\"size\"\n      @change=\"handleChange\"\n    >\n      <el-option\n        v-for=\"item in innerPagesizes\"\n        :key=\"item\"\n        :value=\"item\"\n        :label=\"item + t('el.pagination.pagesize')\"\n      />\n    </el-select>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { isEqual } from 'lodash-unified'\nimport { ElOption, ElSelect } from '@element-plus/components/select'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport { buildProps, definePropType, mutable } from '@element-plus/utils'\nimport { usePagination } from '../usePagination'\n\nimport type { Nullable } from '@element-plus/utils'\n\nconst paginationSizesProps = buildProps({\n  pageSize: {\n    type: Number,\n    required: true,\n  },\n  pageSizes: {\n    type: definePropType<number[]>(Array),\n    default: () => mutable([10, 20, 30, 40, 50, 100] as const),\n  },\n  popperClass: {\n    type: String,\n    default: '',\n  },\n  disabled: Boolean,\n  size: {\n    type: String,\n    default: 'default',\n  },\n} as const)\n\nexport default defineComponent({\n  name: 'ElPaginationSizes',\n\n  components: {\n    ElSelect,\n    ElOption,\n  },\n\n  props: paginationSizesProps,\n  emits: ['page-size-change'],\n\n  setup(props, { emit }) {\n    const { t } = useLocale()\n    const ns = useNamespace('pagination')\n    const pagination = usePagination()\n    const innerPageSize = ref<Nullable<number>>(props.pageSize)\n\n    watch(\n      () => props.pageSizes,\n      (newVal, oldVal) => {\n        if (isEqual(newVal, oldVal)) return\n        if (Array.isArray(newVal)) {\n          const pageSize = newVal.includes(props.pageSize)\n            ? props.pageSize\n            : props.pageSizes[0]\n          emit('page-size-change', pageSize)\n        }\n      }\n    )\n\n    watch(\n      () => props.pageSize,\n      (newVal) => {\n        innerPageSize.value = newVal\n      }\n    )\n\n    const innerPagesizes = computed(() => props.pageSizes)\n\n    function handleChange(val: number) {\n      if (val !== innerPageSize.value) {\n        innerPageSize.value = val\n        pagination.handleSizeChange?.(Number(val))\n      }\n    }\n\n    return {\n      ns,\n      innerPagesizes,\n      innerPageSize,\n\n      t,\n      handleChange,\n    }\n  },\n})\n</script>\n"],"names":["buildProps","definePropType","mutable","defineComponent","ElSelect","ElOption","useLocale","useNamespace","usePagination","ref","watch","isEqual","computed","_resolveComponent","_openBlock","_createElementBlock","_normalizeClass","_createVNode","_withCtx","_Fragment","_renderList","_createBlock"],"mappings":";;;;;;;;;;;;;;;;AA6BA,MAAM,uBAAuBA,gBAAW,CAAA;AAAA,EACtC,QAAU,EAAA;AAAA,IACR,IAAM,EAAA,MAAA;AAAA,IACN,QAAU,EAAA,IAAA;AAAA,GAAA;AAAA,EAEZ,SAAW,EAAA;AAAA,IACT,MAAMC,oBAAyB,CAAA,KAAA,CAAA;AAAA,IAC/B,OAAA,EAAS,MAAMC,kBAAQ,CAAA,CAAC,IAAI,EAAI,EAAA,EAAA,EAAI,IAAI,EAAI,EAAA,GAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAE9C,WAAa,EAAA;AAAA,IACX,IAAM,EAAA,MAAA;AAAA,IACN,OAAS,EAAA,EAAA;AAAA,GAAA;AAAA,EAEX,QAAU,EAAA,OAAA;AAAA,EACV,IAAM,EAAA;AAAA,IACJ,IAAM,EAAA,MAAA;AAAA,IACN,OAAS,EAAA,SAAA;AAAA,GAAA;AAAA,CAAA,CAAA,CAAA;AAIb,MAAK,YAAaC,mBAAa,CAAA;AAAA,EAC7B,IAAM,EAAA,mBAAA;AAAA,EAEN,UAAY,EAAA;AAAA,cACVC,cAAA;AAAA,cACAC,cAAA;AAAA,GAAA;AAAA,EAGF,KAAO,EAAA,oBAAA;AAAA,EACP,OAAO,CAAC,kBAAA,CAAA;AAAA,EAER,KAAA,CAAM,KAAO,EAAA,EAAE,IAAQ,EAAA,EAAA;AACrB,IAAA,MAAM,EAAE,CAAM,EAAA,GAAAC,iBAAA,EAAA,CAAA;AACd,IAAA,MAAM,KAAKC,oBAAa,CAAA,YAAA,CAAA,CAAA;AACxB,IAAA,MAAM,UAAa,GAAAC,2BAAA,EAAA,CAAA;AACnB,IAAM,MAAA,aAAA,GAAgBC,QAAsB,KAAM,CAAA,QAAA,CAAA,CAAA;AAElD,IAAAC,SAAA,CACE,MAAM,KAAA,CAAM,SACZ,EAAA,CAAC,QAAQ,MAAW,KAAA;AAClB,MAAA,IAAIC,sBAAQ,MAAQ,EAAA,MAAA,CAAA;AAAS,QAAA,OAAA;AAC7B,MAAI,IAAA,KAAA,CAAM,QAAQ,MAAS,CAAA,EAAA;AACzB,QAAM,MAAA,QAAA,GAAW,OAAO,QAAS,CAAA,KAAA,CAAM,YACnC,KAAM,CAAA,QAAA,GACN,MAAM,SAAU,CAAA,CAAA,CAAA,CAAA;AACpB,QAAA,IAAA,CAAK,kBAAoB,EAAA,QAAA,CAAA,CAAA;AAAA,OAAA;AAAA,KAAA,CAAA,CAAA;AAK/B,IAAAD,SAAA,CACE,MAAM,KAAA,CAAM,QACZ,EAAA,CAAC,MAAW,KAAA;AACV,MAAA,aAAA,CAAc,KAAQ,GAAA,MAAA,CAAA;AAAA,KAAA,CAAA,CAAA;AAI1B,IAAM,MAAA,cAAA,GAAiBE,YAAS,CAAA,MAAM,KAAM,CAAA,SAAA,CAAA,CAAA;AAE5C,IAAA,SAAA,YAAA,CAAsB,GAAa,EAAA;AACjC,MAAI,IAAA,EAAA,CAAA;AACF,MAAA,IAAA,GAAA,KAAA,aAAsB,CAAA,KAAA,EAAA;AACtB,QAAA;AAAqC,QAAA,CAAA,EAAA,GAAA,UAAA,CAAA,gBAAA,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,UAAA,EAAA,MAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,OAAA;AAIzC,KAAO;AAAA,IACL,OAAA;AAAA,MACA,EAAA;AAAA,MACA,cAAA;AAAA,MAEA,aAAA;AAAA,MACA,CAAA;AAAA,MAAA,YAAA;AAAA,KAAA,CAAA;AAAA,GAAA;;;;4BArFG,GAAAC,oBAAA,CAAA,WAAA,CAAA,CAAA;AAAA,EAfA,OAAAC,aAAO,EAAA,EAAAC,sBAAI,CAAA,MAAA,EAAA;AAAA,IAAA,KAAA,EAAAC,kBAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA;KAcJ;AAAA,IAAAC,eAZI,CAAA,oBAAA,EAAA;AAAA,MACb,aAAU,EAAA,IAAA,CAAA,aAAA;AAAA,MACV,QAAc,EAAA,IAAA,CAAA,QAAA;AAAA,MACd,cAAM,EAAA,IAAA,CAAA,WAAA;AAAA,MACN,IAAQ,EAAA,IAAA,CAAA,IAAA;AAAA,MAAA,QAAA,EAAA,IAAA,CAAA,YAAA;;AAGuB,MAAA,OAAA,EAAAC,WAAA,CAAA,MAI9B;oDAAA,CAAAC,YAAA,EAAA,IAAA,EAAAC,cAAA,CAAA,IAAA,CAAA,cAAA,EAAA,CAAA,IAAA,KAAA;AAAA,UAAA,OAHMN,aAAA,EAAA,EAAAO,eAAA,CAAA,oBAAA,EAAA;AAAA,YACL,GAAO,EAAA,IAAA;AAAA,YACP,KAAA,EAAO;AAAQ,YAAA,KAAA,EAAA,IAAA,GAAA,IAAA,CAAA,CAAA,CAAA,wBAAA,CAAA;;;;;;;;;;;;"}